# PicNest å›¾åºŠç½‘ç«™

ä¸€ä¸ªç°ä»£åŒ–çš„å›¾ç‰‡æ‰˜ç®¡å’Œåˆ†äº«å¹³å°ï¼Œæä¾›å®‰å…¨ã€é«˜æ•ˆçš„å›¾ç‰‡å­˜å‚¨å’Œç®¡ç†æœåŠ¡ã€‚

## ğŸš€ é¡¹ç›®ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- ğŸ“¸ **å›¾ç‰‡ä¸Šä¼ ä¸ç®¡ç†** - æ”¯æŒå¤šç§æ ¼å¼çš„å›¾ç‰‡ä¸Šä¼ å’Œæ‰¹é‡ç®¡ç†
- ğŸ” **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ** - å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†
- ğŸ›¡ï¸ **å®‰å…¨é˜²æŠ¤** - ç—…æ¯’æ‰«æã€æ–‡ä»¶ç±»å‹éªŒè¯ã€è®¿é—®æ§åˆ¶
- ğŸ”— **æ™ºèƒ½åˆ†äº«** - çŸ­é“¾æ¥ç”Ÿæˆã€åˆ†äº«è¿‡æœŸç®¡ç†ã€è®¿é—®ç»Ÿè®¡
- ğŸ“± **å“åº”å¼è®¾è®¡** - æ”¯æŒå¤šè®¾å¤‡è®¿é—®çš„ç°ä»£åŒ–UI
- ğŸ—œï¸ **å›¾ç‰‡ä¼˜åŒ–** - è‡ªåŠ¨å‹ç¼©ã€ç¼©ç•¥å›¾ç”Ÿæˆã€æ ¼å¼è½¬æ¢

### æŠ€æœ¯ç‰¹æ€§

- âš¡ **é«˜æ€§èƒ½** - Redisç¼“å­˜ã€æ•°æ®åº“ä¼˜åŒ–ã€CDNæ”¯æŒ
- ğŸ”„ **å®æ—¶å¤„ç†** - å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ã€å®æ—¶é€šçŸ¥
- ğŸ“Š **æ•°æ®ç»Ÿè®¡** - ç”¨æˆ·è¡Œä¸ºåˆ†æã€å­˜å‚¨ç©ºé—´ç›‘æ§
- ğŸ”§ **æ˜“äºæ‰©å±•** - æ¨¡å—åŒ–æ¶æ„ã€æ’ä»¶ç³»ç»Ÿ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯

- **æ¡†æ¶**: NestJS (Node.js)
- **æ•°æ®åº“**: PostgreSQL
- **ç¼“å­˜**: Redis
- **æ–‡ä»¶å­˜å‚¨**: æœ¬åœ°å­˜å‚¨ + äº‘å­˜å‚¨é›†æˆ
- **è®¤è¯**: JWT + Session
- **ä»»åŠ¡é˜Ÿåˆ—**: Bull + Redis
- **APIæ–‡æ¡£**: Swagger/OpenAPI

### å‰ç«¯

- **æ¡†æ¶**: React 18
- **æ„å»ºå·¥å…·**: Vite + Turbo
- **åŒ…ç®¡ç†**: pnpm
- **UIç»„ä»¶**: Ant Design
- **çŠ¶æ€ç®¡ç†**: Zustand/Redux Toolkit
- **è·¯ç”±**: React Router
- **HTTPå®¢æˆ·ç«¯**: Axios

### å¼€å‘å·¥å…·

- **Monorepo**: Turbo
- **ä»£ç è§„èŒƒ**: ESLint + Prettier
- **ç±»å‹æ£€æŸ¥**: TypeScript
- **ä»£ç è´¨é‡**: Husky + lint-staged
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **IDEé…ç½®**: VSCode å·¥ä½œåŒºè®¾ç½®
- **æµ‹è¯•**: Jest + React Testing Library

## ğŸ“ é¡¹ç›®ç»“æ„

```
PicNestProjectRoot/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/                 # Reactå‰ç«¯åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ App.tsx      # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ App.css      # åº”ç”¨æ ·å¼
â”‚   â”‚   â”‚   â””â”€â”€ main.tsx     # åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ package.json     # å‰ç«¯ä¾èµ–é…ç½®
â”‚   â”‚   â””â”€â”€ vite.config.ts   # Viteæ„å»ºé…ç½®
â”‚   â””â”€â”€ api/                 # NestJSåç«¯API
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ app.module.ts    # ä¸»æ¨¡å—
â”‚       â”‚   â”œâ”€â”€ app.controller.ts # ä¸»æ§åˆ¶å™¨
â”‚       â”‚   â”œâ”€â”€ app.service.ts   # ä¸»æœåŠ¡
â”‚       â”‚   â”œâ”€â”€ entities/        # æ•°æ®åº“å®ä½“
â”‚       â”‚   â”‚   â”œâ”€â”€ user.entity.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ image.entity.ts
â”‚       â”‚   â”‚   â””â”€â”€ share.entity.ts
â”‚       â”‚   â””â”€â”€ config/          # é…ç½®æ–‡ä»¶
â”‚       â”‚       â”œâ”€â”€ database.config.ts
â”‚       â”‚       â””â”€â”€ redis.config.ts
â”‚       â””â”€â”€ package.json     # åç«¯ä¾èµ–é…ç½®
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ config/              # å…±äº«é…ç½®åŒ…
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ tsconfig.json
â”œâ”€â”€ .env                     # ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.example            # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ .gitignore              # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .nvmrc                  # Node.jsç‰ˆæœ¬
â”œâ”€â”€ .prettierrc             # Prettieré…ç½®
â”œâ”€â”€ .prettierignore         # Prettierå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .husky/                 # Gité’©å­é…ç½®
â”œâ”€â”€ docker-compose.yml      # Dockerå®¹å™¨é…ç½®
â”œâ”€â”€ package.json            # æ ¹åŒ…é…ç½®
â”œâ”€â”€ pnpm-workspace.yaml     # pnpmå·¥ä½œç©ºé—´é…ç½®
â”œâ”€â”€ turbo.json              # Turboæ„å»ºé…ç½®
â”œâ”€â”€ tsconfig.json           # æ ¹TypeScripté…ç½®
â”œâ”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ TODO.md                 # å¼€å‘è®¡åˆ’
â””â”€â”€ VSCODE_SETUP.md         # VSCodeé…ç½®è¯´æ˜
```

## ğŸ“Š å½“å‰çŠ¶æ€

### âœ… å·²å®ŒæˆåŠŸèƒ½

- **é¡¹ç›®åŸºç¡€æ¶æ„**: Monorepo ç»“æ„ã€Turbo æ„å»ºç³»ç»Ÿã€pnpm å·¥ä½œç©ºé—´
- **å¼€å‘ç¯å¢ƒ**: TypeScript é…ç½®ã€ESLint + Prettierã€Husky + lint-staged
- **ä»£ç è´¨é‡**: è‡ªåŠ¨æ ¼å¼åŒ–ã€æäº¤å‰æ£€æŸ¥ã€ä»£ç è§„èŒƒç»Ÿä¸€
- **Docker ç¯å¢ƒ**: PostgreSQL å’Œ Redis å®¹å™¨åŒ–é…ç½®
- **VSCode é…ç½®**: å·¥ä½œåŒºè®¾ç½®ã€æ¨èæ‰©å±•ã€è°ƒè¯•é…ç½®
- **åç«¯åŸºç¡€**: NestJS åº”ç”¨ã€PostgreSQL æ•°æ®åº“ã€Redis ç¼“å­˜
- **æ•°æ®åº“è®¾è®¡**: ç”¨æˆ·ã€å›¾ç‰‡ã€åˆ†äº«ä¸‰ä¸ªæ ¸å¿ƒå®ä½“
- **å‰ç«¯åŸºç¡€**: React + Viteã€Ant Design UIã€å“åº”å¼å¸ƒå±€
- **é¦–é¡µè®¾è®¡**: ç°ä»£åŒ– UIã€åŠŸèƒ½å±•ç¤ºã€è¯¦ç»†é¡µè„š

### ğŸ”„ è¿›è¡Œä¸­åŠŸèƒ½

- **åç«¯ API**: åŸºç¡€æ¥å£å·²å®Œæˆï¼Œå‡†å¤‡å¼€å‘ç”¨æˆ·è®¤è¯æ¨¡å—
- **å‰ç«¯ç•Œé¢**: åŸºç¡€å¸ƒå±€å·²å®Œæˆï¼Œå‡†å¤‡å¼€å‘è®¤è¯é¡µé¢
- **æ•°æ®åº“è¿ç§»**: å®ä½“è®¾è®¡å®Œæˆï¼Œå‡†å¤‡åˆ›å»ºè¿ç§»æ–‡ä»¶

### ğŸ“‹ ä¸‹ä¸€æ­¥è®¡åˆ’

1. **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ** - æ³¨å†Œã€ç™»å½•ã€JWT è®¤è¯
2. **å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½** - æ–‡ä»¶ä¸Šä¼ ã€ç±»å‹éªŒè¯ã€å­˜å‚¨ç®¡ç†
3. **ç”¨æˆ·ç®¡ç†ç•Œé¢** - ç”¨æˆ·è®¾ç½®ã€å­˜å‚¨ç©ºé—´ç®¡ç†
4. **å›¾ç‰‡ç®¡ç†åŠŸèƒ½** - å›¾ç‰‡åˆ—è¡¨ã€ç¼–è¾‘ã€åˆ é™¤

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 20.19.4
- pnpm 10.14.0
- PostgreSQL >= 14
- Redis >= 6

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### ç¯å¢ƒé…ç½®

```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶é…ç½®æ•°æ®åº“å’ŒRedisè¿æ¥
```

### å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
pnpm dev

# æˆ–åˆ†åˆ«å¯åŠ¨
pnpm dev:web    # å¯åŠ¨å‰ç«¯ (http://localhost:5173)
pnpm dev:api    # å¯åŠ¨åç«¯ (http://localhost:3000)

# æ„å»ºé¡¹ç›®
pnpm build      # æ„å»ºæ‰€æœ‰åº”ç”¨
pnpm build:web  # æ„å»ºå‰ç«¯
pnpm build:api  # æ„å»ºåç«¯

# ä»£ç æ£€æŸ¥
pnpm lint       # æ£€æŸ¥æ‰€æœ‰ä»£ç 
pnpm lint:fix   # è‡ªåŠ¨ä¿®å¤ä»£ç æ ¼å¼
```

### æ•°æ®åº“å’Œç¼“å­˜

#### ä½¿ç”¨ Docker Compose (æ¨è)

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# åœæ­¢æœåŠ¡
docker-compose down
```

#### æ‰‹åŠ¨å¯åŠ¨å®¹å™¨

```bash
# å¯åŠ¨ PostgreSQL (Docker)
docker run --name picnest-postgres \
  -e POSTGRES_DB=picnest \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=password \
  -p 5432:5432 \
  -d postgres:15

# å¯åŠ¨ Redis (Docker)
docker run --name picnest-redis \
  -p 6379:6379 \
  -d redis:7-alpine
```

## ğŸ“‹ å¼€å‘è¿›åº¦

### âœ… ç¬¬ä¸€é˜¶æ®µï¼šé¡¹ç›®åŸºç¡€æ­å»º (å·²å®Œæˆ)

- [x] åˆå§‹åŒ–Monorepoé¡¹ç›®ç»“æ„
- [x] é…ç½®Turboæ„å»ºç³»ç»Ÿ
- [x] è®¾ç½®å¼€å‘ç¯å¢ƒå’Œå·¥å…·é“¾
- [x] é…ç½®TypeScriptã€ESLintã€Prettier
- [x] è®¾ç½®Huskyå’Œlint-stagedä»£ç è´¨é‡æ£€æŸ¥
- [x] é…ç½®Dockerå®¹å™¨ç¯å¢ƒ
- [x] è®¾ç½®VSCodeå¼€å‘ç¯å¢ƒ
- [x] é…ç½®æ•°æ®åº“å’ŒRedis
- [x] åŸºç¡€é¡¹ç›®æ–‡æ¡£

### âœ… ç¬¬äºŒé˜¶æ®µï¼šåç«¯APIå¼€å‘ (è¿›è¡Œä¸­)

- [x] NestJS åº”ç”¨åˆ›å»ºå’Œé…ç½®
- [x] TypeORM å’Œ PostgreSQL é…ç½®
- [x] Redis è¿æ¥é…ç½®
- [x] æ•°æ®åº“å®ä½“è®¾è®¡ (User, Image, Share)
- [x] åŸºç¡€ API æ¥å£ (å¥åº·æ£€æŸ¥ã€ç¼“å­˜æ“ä½œ)
- [ ] ç”¨æˆ·è®¤è¯æ¨¡å—
- [ ] ç”¨æˆ·ç®¡ç†æ¨¡å—
- [ ] å›¾ç‰‡ä¸Šä¼ æ¨¡å—
- [ ] å›¾ç‰‡ç®¡ç†æ¨¡å—
- [ ] æ–‡ä»¶å­˜å‚¨æœåŠ¡
- [ ] ç—…æ¯’æ‰«æé›†æˆ
- [ ] ä»»åŠ¡é˜Ÿåˆ—ç³»ç»Ÿ

### âœ… ç¬¬ä¸‰é˜¶æ®µï¼šå‰ç«¯ç•Œé¢å¼€å‘ (è¿›è¡Œä¸­)

- [x] React åº”ç”¨åˆ›å»ºå’Œé…ç½®
- [x] Vite æ„å»ºå·¥å…·é…ç½®
- [x] Ant Design UI ç»„ä»¶é›†æˆ
- [x] åŸºç¡€å¸ƒå±€ç»„ä»¶
- [x] å“åº”å¼é¦–é¡µè®¾è®¡
- [ ] è®¤è¯é¡µé¢
- [ ] å›¾ç‰‡ä¸Šä¼ ç•Œé¢
- [ ] å›¾ç‰‡ç®¡ç†ç•Œé¢
- [ ] ç”¨æˆ·ç®¡ç†ç•Œé¢

### ğŸ”„ ç¬¬å››é˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½å®ç° (å¾…å¼€å§‹)

- [ ] å›¾ç‰‡åˆ†äº«åŠŸèƒ½
- [ ] çŸ­é“¾æ¥ç”Ÿæˆ
- [ ] åˆ†äº«è¿‡æœŸå¤„ç†
- [ ] å›¾ç‰‡å‹ç¼©å’Œç¼©ç•¥å›¾
- [ ] å­˜å‚¨ç©ºé—´ç®¡ç†
- [ ] è®¿é—®ç»Ÿè®¡

### ğŸ”„ ç¬¬äº”é˜¶æ®µï¼šä¼˜åŒ–å’Œæµ‹è¯• (å¾…å¼€å§‹)

- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å®‰å…¨åŠ å›º
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] éƒ¨ç½²é…ç½®

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: [GitHub Repository]
- é—®é¢˜åé¦ˆ: [Issues]
- é‚®ç®±: [your-email@example.com]

---

**PicNest** - è®©å›¾ç‰‡åˆ†äº«æ›´ç®€å•ã€æ›´å®‰å…¨ã€æ›´é«˜æ•ˆ ğŸ¯
